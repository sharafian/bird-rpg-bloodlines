!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e){t.exports=Phaser},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),s=0;for(e=0;e<i;e++)for(var r=arguments[e],o=0,a=r.length;o<a;o++,s++)n[s]=r[o];return n},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(i(0)),h=i(4),u=i(5),p=i(6);e.BIRD_SIZE=32,e.MATING_RANGE=150,e.TILE_SIZE=32;var c=function(t){function i(){var e=t.call(this,"game-scene")||this;return e.player=new u.Player(e,20,20),e.NPCs=[new h.Npc(e,445,425,"assets/birb6.png"),new h.Npc(e,1200,50,"assets/birb6.png")],e.predators=[new p.GroundPredator(e,1400,700,"assets/cat2.png",64)],e.entities=r(e.NPCs,e.predators,[e.player]),e.scheduledFadeout=!1,e}return s(i,t),i.prototype.preload=function(){this.load.tilemapCSV("environment_map","assets/environment2.csv"),this.load.image("environment_tiles_extruded","assets/environment_extruded.png"),this.entities.forEach((function(t){return t.preload()})),this.load.audio("theme",["assets/audio/bird_trap_wip.mp3"])},i.prototype.onFade=function(t,e){1===e&&this.scene.start("mating-scene")},i.prototype.create=function(){var t=this;this.entities.forEach((function(t){return t.create()})),this.createEnvironment();var e=this.sound.add("theme");e.play(),this.events.on("shutdown",(function(){e.stop()})),this.player.on("start_singing",(function(){var e=t.closestBirb();e&&(t.player.startLovin(),e.startLovin(),setTimeout((function(){t.scheduleFadeout()}),1e3))}))},i.prototype.createEnvironment=function(){var t=this;this.map=this.make.tilemap({key:"environment_map",tileWidth:e.TILE_SIZE,tileHeight:e.TILE_SIZE});var i=this.map.addTilesetImage("environment_tiles","environment_tiles_extruded",32,32,1,2),n=this.map.createStaticLayer(0,i,0,0);n.setCollision([2,8,16,22,24,44,48]),this.entities.forEach((function(e){t.physics.add.collider(e.getSprite(),n)})),this.cameras.main.startFollow(this.player.getSprite(),!0,.1,.1),this.cameras.main.setBounds(0,0,this.map.widthInPixels,this.map.heightInPixels),this.cameras.main.setBackgroundColor("#a6dbed")},i.prototype.scheduleFadeout=function(){this.scheduledFadeout=!0},i.prototype.update=function(t,e){this.scheduledFadeout&&this.map&&(this.scheduledFadeout=!1,this.cameras.main._cw=this.map.widthInPixels,this.cameras.main._ch=this.map.heightInPixels,this.cameras.main.fadeOut(3e3,0,0,0,this.onFade.bind(this))),this.entities.forEach((function(i){return i.update(t,e)}))},i.prototype.closestBirb=function(){var t=this;if(!this.player)throw new Error("player does not exist");var i=this.NPCs.reduce((function(e,i){if(!t.player)throw new Error("player does not exist");var n=a.default.Math.Distance.BetweenPoints(t.player.getPosition(),e.getPosition());return a.default.Math.Distance.BetweenPoints(t.player.getPosition(),i.getPosition())<n?i:e}));return a.default.Math.Distance.BetweenPoints(this.player.getPosition(),i.getPosition())>e.MATING_RANGE?void 0:i},i.prototype.getPlayer=function(){return this.player},i}(a.default.Scene);e.GameScene=c},function(t,e,i){"use strict";var n,s="object"==typeof Reflect?Reflect:null,r=s&&"function"==typeof s.apply?s.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};n=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var h=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function p(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function c(t,e,i,n){var s,r,o,a;if(u(i),void 0===(r=t._events)?(r=t._events=Object.create(null),t._eventsCount=0):(void 0!==r.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),r=t._events),o=r[e]),void 0===o)o=r[e]=i,++t._eventsCount;else if("function"==typeof o?o=r[e]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),(s=p(t))>0&&o.length>s&&!o.warned){o.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=o.length,a=h,console&&console.warn&&console.warn(a)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},s=l.bind(n);return s.listener=i,n.wrapFn=s,s}function d(t,e,i){var n=t._events;if(void 0===n)return[];var s=n[e];return void 0===s?[]:"function"==typeof s?i?[s.listener||s]:[s]:i?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(s):m(s,s.length)}function y(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");h=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return p(this)},a.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var h=s[t];if(void 0===h)return!1;if("function"==typeof h)r(h,this,e);else{var u=h.length,p=m(h,u);for(i=0;i<u;++i)r(p[i],this,e)}return!0},a.prototype.addListener=function(t,e){return c(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return c(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,f(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,f(this,t,e)),this},a.prototype.removeListener=function(t,e){var i,n,s,r,o;if(u(e),void 0===(n=this._events))return this;if(void 0===(i=n[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(s=-1,r=i.length-1;r>=0;r--)if(i[r]===e||i[r].listener===e){o=i[r].listener,s=r;break}if(s<0)return this;0===s?i.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(i,s),1===i.length&&(n[t]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var s,r=Object.keys(i);for(n=0;n<r.length;++n)"removeListener"!==(s=r[n])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},a.prototype.listenerCount=y,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),r=i(1),o=i(7),a=i(8),h=i(9),u={type:s.default.AUTO,pixelArt:!0,scale:{mode:s.default.Scale.NONE,autoCenter:s.default.Scale.CENTER_BOTH,width:640,height:480,zoom:1,max:{width:640,height:480}},physics:{default:"arcade",arcade:{gravity:{y:500},debug:!1}},scene:[a.MainMenu,r.GameScene,o.AboutMenu,h.MateScene]},p=new s.default.Game(u);e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),s=function(){function t(t,e,i,n){this.facing=-1,this.lovin=!1,this.scene=t,this.x=e,this.y=i,this.asset=n}return t.prototype.preload=function(){this.scene.load.image("heart","assets/particles/heart.png"),this.scene.load.image("card","assets/twinderframe.png"),this.scene.load.spritesheet(this.asset+"-npc",this.asset,{frameWidth:n.BIRD_SIZE,frameHeight:n.BIRD_SIZE})},t.prototype.create=function(){this.facing=-1,this.lovin=!1,this.sprite=this.scene.physics.add.sprite(this.x,this.y,this.asset+"-npc"),this.sprite.setDepth(75),this.card=this.scene.add.sprite(this.x,this.y-n.BIRD_SIZE/2,"card"),this.card.setDepth(150),this.scene.anims.create({key:this.asset+"-stand",frameRate:0,frames:this.scene.anims.generateFrameNumbers(this.asset+"-npc",{start:3,end:3})}),this.sprite.anims.play(this.asset+"-stand"),this.sprite.setDebug(!0,!0,65280);var t=this.scene.add.particles("heart");this.heartEmitter=t.createEmitter({lifespan:1e3,speed:{min:25,max:50},angle:{min:250,max:290},radial:!0,gravityY:-50,frequency:250,quantity:1})},t.prototype.startLovin=function(){this.lovin=!0,this.heartEmitter&&this.sprite?(this.heartEmitter.start(),this.heartEmitter.setPosition(this.sprite.x+n.BIRD_SIZE+this.facing*n.BIRD_SIZE/2,this.sprite.y+n.BIRD_SIZE/2)):console.log("no emitter")},t.prototype.stopLovin=function(){var t;this.lovin=!1,null===(t=this.heartEmitter)||void 0===t||t.stop()},t.prototype.showCard=function(){return!!this.sprite&&Phaser.Math.Distance.BetweenPoints(this.scene.getPlayer().getSprite(),this.sprite)<100},t.prototype.update=function(){var t,e;if(this.sprite&&this.card){var i=this.sprite,s=i.x,r=i.y;if(null===(t=this.card)||void 0===t||t.setPosition(s,r-this.card.height/2-n.BIRD_SIZE/2),null===(e=this.card)||void 0===e||e.setVisible(this.showCard()),this.lovin)this.sprite.setVelocityX(0);else{var o=Math.random();o>0&&o<=.02?this.facing=this.facing<0?1:-1:o>.05&&o<=.2?this.sprite.setVelocityX(2*this.facing*n.BIRD_SIZE):this.sprite.setVelocityX(0),this.sprite.setFlipX(this.facing>0)}}},t.prototype.getPosition=function(){if(!this.sprite)throw new Error("sprite does not exist");return{x:this.sprite.x,y:this.sprite.y}},t.prototype.getSprite=function(){if(!this.sprite)throw new Error("sprite does not exist");return this.sprite},t.prototype.die=function(){console.log("npc died")},t}();e.Npc=s},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=function(t){function e(e,i,n){var s=t.call(this)||this;return s.scene=e,s.x=i,s.y=n,s.flapping=!1,s.singing=!1,s.lovin=!1,s.facing=1,s}return s(e,t),e.prototype.preload=function(){this.scene.load.spritesheet("notes","assets/particles/notes.png",{frameWidth:12,frameHeight:12}),this.scene.load.spritesheet("birb","assets/birb5.png",{frameWidth:r.BIRD_SIZE,frameHeight:r.BIRD_SIZE})},e.prototype.create=function(){var t=this;this.flapping=!1,this.singing=!1,this.lovin=!1,this.facing=1;var e=this.scene.add.particles("notes").createEmitter({frame:[0,1,2,3,4,5,6,7],x:40,y:0,lifespan:800,speed:{min:100,max:200},angle:{min:300,max:360},radial:!0,gravityY:0,quantity:2,frequency:150});e.stop(),this.sprite=this.scene.physics.add.sprite(this.x,this.y,"birb"),this.sprite.setDepth(100),this.scene.anims.create({key:"stand",frameRate:0,frames:this.scene.anims.generateFrameNumbers("birb",{start:3,end:2})}),this.scene.anims.create({key:"walk",frameRate:10,repeat:-1,frames:this.scene.anims.generateFrameNumbers("birb",{start:3,end:5})}),this.scene.anims.create({key:"fly",frameRate:10,frames:this.scene.anims.generateFrameNumbers("birb",{start:0,end:2})}),this.scene.anims.create({key:"pickup",frameRate:10,frames:this.scene.anims.generateFrameNumbers("birb",{frames:[5,6,7,6,5]})}),this.cursors=this.scene.input.keyboard.createCursorKeys();var i=this.scene.input.keyboard.addKey("Z"),n=this.scene.input.keyboard.addKey("X");n.on("down",(function(){var e,i,n,s=null===(e=t.sprite)||void 0===e?void 0:e.body.blocked.down,r="pickup"===(null===(i=t.sprite)||void 0===i?void 0:i.anims.getCurrentKey()),o=null===(n=t.sprite)||void 0===n?void 0:n.anims.isPlaying;!s||r&&o||t.sprite.anims.play("pickup")})),i.on("down",(function(){var i,n;if(!t.lovin){var s=null===(i=t.sprite)||void 0===i?void 0:i.body.velocity.y,r=null===(n=t.sprite)||void 0===n?void 0:n.body.velocity.x,o=0===s&&0===r;t.sprite&&o&&(t.singing=!0,e.setEmitterAngle({min:t.facing<0?180:300,max:t.facing<0?240:360}),e.setPosition(t.sprite.x+20*t.facing,t.sprite.y-10),t.emit("start_singing"),e.start())}})),i.on("up",(function(){t.lovin||(t.emit("stop_singing"),t.singing=!1,e.stop())})),this.scene.events.on("shutdown",(function(){var e,s,r,o,a,h,u,p;i.removeAllListeners(),n.removeAllListeners(),null===(s=null===(e=t.cursors)||void 0===e?void 0:e.up)||void 0===s||s.removeAllListeners(),null===(o=null===(r=t.cursors)||void 0===r?void 0:r.down)||void 0===o||o.removeAllListeners(),null===(h=null===(a=t.cursors)||void 0===a?void 0:a.left)||void 0===h||h.removeAllListeners(),null===(p=null===(u=t.cursors)||void 0===u?void 0:u.right)||void 0===p||p.removeAllListeners()}))},e.prototype.startLovin=function(){this.lovin=!0},e.prototype.stopLovin=function(){this.lovin=!1},e.prototype.update=function(){var t,e,i,n;if(this.cursors&&this.sprite)if(this.singing)this.sprite.setVelocityX(0);else{(null===(t=this.cursors.up)||void 0===t?void 0:t.isDown)?(this.flapping||(this.sprite.anims.isPlaying||this.sprite.anims.play("fly"),this.sprite.setVelocityY(-5*r.BIRD_SIZE)),this.flapping=!0):this.flapping=!1,(null===(e=this.cursors.left)||void 0===e?void 0:e.isDown)?(this.facing=-1,this.sprite.setVelocityX(-2*r.BIRD_SIZE)):(null===(i=this.cursors.right)||void 0===i?void 0:i.isDown)?(this.facing=1,this.sprite.setVelocityX(2*r.BIRD_SIZE)):this.sprite.setVelocityX(0),this.isFlying()&&this.sprite.setVelocityX(4*this.facing*r.BIRD_SIZE),this.sprite.setFlipX(this.facing>0);var s=this.getAnim();(null===(n=this.sprite.anims.currentAnim)||void 0===n?void 0:n.key)!==s&&this.sprite.anims.play(s)}},e.prototype.isFlying=function(){if(!this.sprite)throw new Error("no player");return!!this.sprite.body.velocity.y},e.prototype.getAnim=function(){return this.sprite?"pickup"!==this.sprite.anims.getCurrentKey()||this.sprite.anims.isPaused?this.isFlying()?"fly":this.sprite.body.velocity.x?"walk":"stand":"pickup":"stand"},e.prototype.getPosition=function(){if(!this.sprite)throw new Error("no player");return this.sprite},e.prototype.die=function(){console.log("player died")},e.prototype.getSprite=function(){if(this.sprite)return this.sprite;throw new Error("Player object has no sprite.")},e}(i(2).EventEmitter);e.Player=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n,s){this.facing=-1,this.timeCounter=0,this.scene=t,this.x=e,this.y=i,this.asset=n,this.size=s}return t.prototype.preload=function(){this.scene.load.spritesheet(this.asset+"-ground-predator",this.asset,{frameWidth:this.size,frameHeight:this.size})},t.prototype.create=function(){this.sprite=this.scene.physics.add.sprite(this.x,this.y,this.asset+"-ground-predator"),this.sprite.setDepth(50),this.scene.anims.create({key:this.asset+"-stand",frameRate:0,frames:this.scene.anims.generateFrameNumbers(this.asset+"-ground-predator",{start:3,end:3})}),this.scene.anims.create({key:this.asset+"-walk",frameRate:2,repeat:-1,frames:this.scene.anims.generateFrameNumbers(this.asset+"-ground-predator",{start:0,end:3})}),this.scene.anims.create({key:this.asset+"-run",frameRate:10,repeat:-1,frames:this.scene.anims.generateFrameNumbers(this.asset+"-ground-predator",{start:0,end:3})}),this.scene.anims.create({key:this.asset+"-jump",frameRate:0,frames:this.scene.anims.generateFrameNumbers(this.asset+"-ground-predator",{start:1,end:2})}),this.sprite.anims.play(this.asset+"-stand"),this.sprite.setDebug(!0,!0,65280)},t.prototype.update=function(t,e){var i=this.scene.getPlayer();this.timeCounter+=e,this.timeCounter>200&&(this.timeCounter=0,this.isFarther(i,250)?this.prowl():this.attack(i));var n=this.getAnim();n!==this.sprite.anims.getCurrentKey()&&this.sprite.anims.play(n),this.sprite.setFlipX(this.facing<0)},t.prototype.isFarther=function(t,e){var i=this.getPosition(),n=t.getPosition();return Phaser.Math.Distance.BetweenPoints(i,n)>e},t.prototype.prowl=function(){var t=Math.random();t>0&&t<=.02?this.facing=this.facing<0?1:-1:this.sprite.setVelocityX(.25*this.facing*this.size)},t.prototype.runLeft=function(){this.sprite.setVelocityX(-240),this.facing=-1},t.prototype.runRight=function(){this.sprite.setVelocityX(240),this.facing=1},t.prototype.jump=function(){this.sprite.setVelocityY(-400)},t.prototype.stop=function(){this.sprite.setVelocity(0)},t.prototype.attack=function(t){var e=t.getPosition(),i=this.getPosition(),n=this.sprite.body.blocked.down;Math.abs(e.x-i.x)<100&&i.y>e.y+100&&n?this.jump():e.x>i.x&&n?this.runRight():e.x<i.x&&n&&this.runLeft()},t.prototype.kill=function(t){t.die()},t.prototype.getPosition=function(){if(!this.sprite)throw new Error("sprite does not exist");return{x:this.sprite.x,y:this.sprite.y}},t.prototype.getSprite=function(){if(!this.sprite)throw new Error("sprite does not exist");return this.sprite},t.prototype.getAnim=function(){var t=this.sprite.body.blocked.down,e=Math.abs(this.sprite.body.velocity.x);return t?240===e?this.asset+"-run":e?this.asset+"-walk":this.asset+"-stand":this.asset+"-jump"},t}();e.GroundPredator=n},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(i(0)),a=function(t){function e(){var e=t.call(this,"about-menu")||this;return e.menuY=150,e}return s(e,t),e.prototype.create=function(){var t=this;this.add.text(100,100,"About",{color:"white",fontSize:"36px"}),this.add.text(100,this.menuY,"\nHere is some text about the game and how\nto play it.\n\nUse the arrow keys to move, and hit up to\nfly. You need to find your mate to keep\nyour bloodline alive\n\nHit ENTER to return to the main menu",{color:"white",fontSize:"16px"});var e=this.input.keyboard.addKey("ENTER");e.on("up",(function(){t.scene.start("main-menu")})),this.events.on("shutdown",(function(){e.removeAllListeners()}))},e}(o.default.Scene);e.AboutMenu=a},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this,"main-menu")||this;return e.selection=0,e.menuY=250,e.menuRowHeight=30,e.menuItems=[{title:"Start Campaign",scene:"game-scene"},{title:"About",scene:"about-menu"}],e}return s(e,t),e.prototype.create=function(){var t,e,i=this,n={color:"white",fontSize:"24px"};this.add.text(100,100,"Bird RPG: Bloodlines",{color:"white",fontSize:"36px"});for(var s=0;s<this.menuItems.length;++s){var r=this.menuItems[s];this.add.text(100,this.menuY+s*this.menuRowHeight,r.title,n)}var o=this.input.keyboard.createCursorKeys(),a=this.add.rectangle(250,this.menuY+this.selection*this.menuRowHeight+15,300,27,16777215,.5),h=function(){a.setY(i.menuY+i.selection*i.menuRowHeight+15)};null===(t=o.up)||void 0===t||t.on("down",(function(){i.selection=Math.max(i.selection-1,0),h()})),null===(e=o.down)||void 0===e||e.on("down",(function(){i.selection=Math.min(i.selection+1,1),h()}));var u=this.input.keyboard.addKey("ENTER");u.on("up",(function(){i.scene.start(i.menuItems[i.selection].scene)})),this.events.on("shutdown",(function(){var t,e,i,n;u.removeAllListeners(),null===(t=o.up)||void 0===t||t.removeAllListeners(),null===(e=o.down)||void 0===e||e.removeAllListeners(),null===(i=o.left)||void 0===i||i.removeAllListeners(),null===(n=o.right)||void 0===n||n.removeAllListeners()}))},e}(r(i(0)).default.Scene);e.MainMenu=o},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),s=0;for(e=0;e<i;e++)for(var r=arguments[e],o=0,a=r.length;o<a;o++,s++)n[s]=r[o];return n},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(i(0)),h=i(10),u=i(11),p=function(t){function e(){var e=t.call(this,"mating-scene")||this;return e.egg=new u.Egg(e,320,130),e.sliders=[new h.RouletteSlider(e,320,220,.3,.4),new h.RouletteSlider(e,320,250,.5,.9)],e.components=r(e.sliders,[e.egg]),e}return s(e,t),e.prototype.preload=function(){this.components.forEach((function(t){return t.preload()}))},e.prototype.onFade=function(t,e){1===e&&this.scene.start("game-scene")},e.prototype.create=function(){var t=this;this.components.forEach((function(t){return t.create()}));var e=this.add.text(175,300,"Hit ENTER to select attributes",{color:"white"}),i=this.input.keyboard.addKey("ENTER");i.once("up",(function(){t.sliders.forEach((function(t){return t.stop()})),e.setText(""),t.egg.hatch(),t.egg.once("hatched",(function(){t.cameras.main.fadeOut(2e3,0,0,0,t.onFade.bind(t))}))})),this.events.on("shutdown",(function(){i.removeAllListeners()}))},e.prototype.update=function(t,e){this.components.forEach((function(i){return i.update(t,e)}))},e}(a.default.Scene);e.MateScene=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n,s){this.scene=t,this.x=e,this.y=i,this.lowerBound=n,this.upperBound=s,this.width=300,this.height=25,this.speed=200,this.stopped=!1}return t.prototype.preload=function(){},t.prototype.positionToX=function(t){return this.x-this.width/2+this.width*t},t.prototype.addMark=function(t,e){return this.scene.add.rectangle(this.positionToX(t),this.y,6,this.height,e)},t.prototype.getBody=function(){if(!this.selectangle)throw new Error("no selection");return this.selectangle.body},t.prototype.create=function(){this.stopped=!1,this.scene.add.rectangle(this.x,this.y,this.width,this.height,16777215);var t=this.lowerBound+Math.random()*(this.upperBound-this.lowerBound),e=this.addMark(t,65280);this.selectangle=this.scene.physics.add.existing(e,!1),this.getBody().setAllowGravity(!1),this.getBody().setVelocityX(Math.random()<.5?-this.speed:this.speed),this.addMark(this.lowerBound,267666500),this.addMark(this.upperBound,71582975)},t.prototype.update=function(){this.selectangle&&(this.stopped?this.getBody().setVelocityX(0):this.getBody().x<=this.positionToX(this.lowerBound)?this.getBody().setVelocityX(this.speed):this.getBody().x>=this.positionToX(this.upperBound)&&this.getBody().setVelocityX(-this.speed))},t.prototype.getPosition=function(){return{x:this.x,y:this.y}},t.prototype.stop=function(){this.stopped=!0},t}();e.RouletteSlider=n},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,i,n){var s=t.call(this)||this;return s.scene=e,s.x=i,s.y=n,s}return s(e,t),e.prototype.preload=function(){this.scene.load.spritesheet("hatch","assets/hatch.png",{frameWidth:16,frameHeight:16})},e.prototype.create=function(){this.scene.anims.create({key:"hatch",frameRate:10,frames:this.scene.anims.generateFrameNumbers("hatch",{start:0,end:16})}),this.sprite=this.scene.add.sprite(this.x,this.y,"hatch"),this.sprite.setScale(4,4)},e.prototype.update=function(){},e.prototype.hatch=function(){var t,e,i=this;null===(t=this.sprite)||void 0===t||t.anims.play("hatch"),null===(e=this.sprite)||void 0===e||e.on("animationcomplete",(function(){i.emit("hatched")}))},e.prototype.getPosition=function(){if(!this.sprite)throw new Error("no sprite");return this.sprite},e}(i(2).EventEmitter);e.Egg=r}]);
//# sourceMappingURL=main.js.map