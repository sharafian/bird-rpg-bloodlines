!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e){t.exports=Phaser},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(i(0)),u=i(4),h=i(5),c=i(6);e.BIRD_SIZE=50,e.MATING_RANGE=150,e.TILE_SIZE=32;var p=function(t){function i(){var e=t.call(this,"game-scene")||this;return e.player=new h.Player(e,20,20),e.NPCs=[new u.Npc(e,445,425,"assets/bluebird.png"),new u.Npc(e,1200,50,"assets/redbird.png")],e.predators=[new c.GroundPredator(e,1400,700,"assets/cat.png",64)],e.entities=s(e.NPCs,e.predators,[e.player]),e}return r(i,t),i.prototype.preload=function(){this.load.tilemapCSV("environment_map","assets/environment2.csv"),this.load.image("environment_tiles","assets/environment2.png"),this.entities.forEach((function(t){return t.preload()}))},i.prototype.onFade=function(t,e){1===e&&this.scene.start("mating-scene")},i.prototype.create=function(){var t=this;this.entities.forEach((function(t){return t.create()})),this.createEnvironment(),this.player.on("start_singing",(function(){var e=t.closestBirb();e&&(t.player.startLovin(),e.startLovin(),setTimeout((function(){t.cameras.main.fadeOut(3e3,0,0,0,t.onFade.bind(t))}),1e3))}))},i.prototype.createEnvironment=function(){var t=this,i=this.make.tilemap({key:"environment_map",tileWidth:e.TILE_SIZE,tileHeight:e.TILE_SIZE}),n=i.addTilesetImage("environment_tiles"),r=i.createStaticLayer(0,n,0,0);r.setCollision([2,8,16,22,24,44,48]),this.entities.forEach((function(e){t.physics.add.collider(e.getSprite(),r)})),this.cameras.main.startFollow(this.player.getSprite(),!0,.1,.1),this.cameras.main.setBounds(0,0,i.widthInPixels,i.heightInPixels),this.cameras.main.setBackgroundColor("#a6dbed")},i.prototype.update=function(){this.entities.forEach((function(t){return t.update()}))},i.prototype.closestBirb=function(){var t=this;if(!this.player)throw new Error("player does not exist");var i=this.NPCs.reduce((function(e,i){if(!t.player)throw new Error("player does not exist");var n=a.default.Math.Distance.BetweenPoints(t.player.getPosition(),e.getPosition());return a.default.Math.Distance.BetweenPoints(t.player.getPosition(),i.getPosition())<n?i:e}));return a.default.Math.Distance.BetweenPoints(this.player.getPosition(),i.getPosition())>e.MATING_RANGE?void 0:i},i.prototype.getPlayer=function(){return this.player},i}(a.default.Scene);e.GameScene=p},function(t,e,i){"use strict";var n,r="object"==typeof Reflect?Reflect:null,s=r&&"function"==typeof r.apply?r.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};n=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function h(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function p(t,e,i,n){var r,s,o,a;if(h(i),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),s=t._events),o=s[e]),void 0===o)o=s[e]=i,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),(r=c(t))>0&&o.length>r&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,a=u,console&&console.warn&&console.warn(a)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},r=l.bind(n);return r.listener=i,n.wrapFn=r,r}function d(t,e,i){var n=t._events;if(void 0===n)return[];var r=n[e];return void 0===r?[]:"function"==typeof r?i?[r.listener||r]:[r]:i?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(r):v(r,r.length)}function y(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function v(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=r[t];if(void 0===u)return!1;if("function"==typeof u)s(u,this,e);else{var h=u.length,c=v(u,h);for(i=0;i<h;++i)s(c[i],this,e)}return!0},a.prototype.addListener=function(t,e){return p(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return p(this,t,e,!0)},a.prototype.once=function(t,e){return h(e),this.on(t,f(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return h(e),this.prependListener(t,f(this,t,e)),this},a.prototype.removeListener=function(t,e){var i,n,r,s,o;if(h(e),void 0===(n=this._events))return this;if(void 0===(i=n[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(r=-1,s=i.length-1;s>=0;s--)if(i[s]===e||i[s].listener===e){o=i[s].listener,r=s;break}if(r<0)return this;0===r?i.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(i,r),1===i.length&&(n[t]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var r,s=Object.keys(i);for(n=0;n<s.length;++n)"removeListener"!==(r=s[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},a.prototype.listenerCount=y,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),s=i(1),o=i(7),a=i(8),u=i(9),h={type:r.default.AUTO,pixelArt:!0,scale:{mode:r.default.Scale.NONE,autoCenter:r.default.Scale.CENTER_BOTH,width:640,height:480,zoom:1,max:{width:640,height:480}},physics:{default:"arcade",arcade:{gravity:{y:500},debug:!1}},scene:[a.MainMenu,s.GameScene,o.AboutMenu,u.MateScene]},c=new r.default.Game(h);e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(){function t(t,e,i,n){this.facing=-1,this.lovin=!1,this.scene=t,this.x=e,this.y=i,this.asset=n}return t.prototype.preload=function(){this.scene.load.image("heart","assets/particles/heart.png"),this.scene.load.spritesheet(this.asset+"-npc",this.asset,{frameWidth:n.BIRD_SIZE,frameHeight:n.BIRD_SIZE})},t.prototype.create=function(){this.sprite=this.scene.physics.add.sprite(this.x,this.y,this.asset+"-npc"),this.scene.anims.create({key:this.asset+"-stand",frameRate:0,frames:this.scene.anims.generateFrameNumbers(this.asset+"-npc",{start:3,end:3})}),this.sprite.anims.play(this.asset+"-stand"),this.sprite.setDebug(!0,!0,65280);var t=this.scene.add.particles("heart");this.heartEmitter=t.createEmitter({lifespan:1e3,speed:{min:25,max:50},angle:{min:250,max:290},radial:!0,gravityY:-50,frequency:250,quantity:1})},t.prototype.startLovin=function(){this.lovin=!0,this.heartEmitter&&this.sprite?(this.heartEmitter.start(),this.heartEmitter.setPosition(this.sprite.x+n.BIRD_SIZE+this.facing*n.BIRD_SIZE/2,this.sprite.y+n.BIRD_SIZE/2)):console.log("no emitter")},t.prototype.stopLovin=function(){var t;this.lovin=!1,null===(t=this.heartEmitter)||void 0===t||t.stop()},t.prototype.update=function(){if(this.sprite)if(this.lovin)this.sprite.setVelocityX(0);else{var t=Math.random();t>0&&t<=.02?this.facing=this.facing<0?1:-1:t>.05&&t<=.2?this.sprite.setVelocityX(2*this.facing*n.BIRD_SIZE):this.sprite.setVelocityX(0),this.sprite.setFlipX(this.facing>0)}},t.prototype.getPosition=function(){if(!this.sprite)throw new Error("sprite does not exist");return{x:this.sprite.x,y:this.sprite.y}},t.prototype.getSprite=function(){if(!this.sprite)throw new Error("sprite does not exist");return this.sprite},t.prototype.die=function(){console.log("npc died")},t}();e.Npc=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),o=function(t){function e(e,i,n){var r=t.call(this)||this;return r.scene=e,r.x=i,r.y=n,r.flapping=!1,r.singing=!1,r.lovin=!1,r.facing=1,r}return r(e,t),e.prototype.preload=function(){this.scene.load.spritesheet("notes","assets/particles/notes.png",{frameWidth:12,frameHeight:12}),this.scene.load.spritesheet("birb","assets/birb4.png",{frameWidth:s.BIRD_SIZE,frameHeight:s.BIRD_SIZE})},e.prototype.create=function(){var t=this;this.flapping=!1,this.singing=!1,this.lovin=!1,this.facing=1;var e=this.scene.add.particles("notes").createEmitter({frame:[0,1,2,3,4,5,6,7],x:40,y:0,lifespan:800,speed:{min:100,max:200},angle:{min:300,max:360},radial:!0,gravityY:0,quantity:2,frequency:150});e.stop(),this.sprite=this.scene.physics.add.sprite(this.x,this.y,"birb"),this.scene.anims.create({key:"stand",frameRate:0,frames:this.scene.anims.generateFrameNumbers("birb",{start:3,end:2})}),this.scene.anims.create({key:"walk",frameRate:10,repeat:-1,frames:this.scene.anims.generateFrameNumbers("birb",{start:3,end:5})}),this.scene.anims.create({key:"fly",frameRate:10,frames:this.scene.anims.generateFrameNumbers("birb",{start:0,end:2})}),this.cursors=this.scene.input.keyboard.createCursorKeys();var i=this.scene.input.keyboard.addKey("Z");i.on("down",(function(){var i,n;if(!t.lovin){var r=null===(i=t.sprite)||void 0===i?void 0:i.body.velocity.y,s=null===(n=t.sprite)||void 0===n?void 0:n.body.velocity.x,o=0===r&&0===s;t.sprite&&o&&(t.singing=!0,e.setEmitterAngle({min:t.facing<0?180:300,max:t.facing<0?240:360}),e.setPosition(t.sprite.x+20*t.facing,t.sprite.y-10),t.emit("start_singing"),e.start())}})),i.on("up",(function(){t.lovin||(t.emit("stop_singing"),t.singing=!1,e.stop())})),this.scene.events.on("shutdown",(function(){var e,n,r,s,o,a,u,h;i.removeAllListeners(),null===(n=null===(e=t.cursors)||void 0===e?void 0:e.up)||void 0===n||n.removeAllListeners(),null===(s=null===(r=t.cursors)||void 0===r?void 0:r.down)||void 0===s||s.removeAllListeners(),null===(a=null===(o=t.cursors)||void 0===o?void 0:o.left)||void 0===a||a.removeAllListeners(),null===(h=null===(u=t.cursors)||void 0===u?void 0:u.right)||void 0===h||h.removeAllListeners()}))},e.prototype.startLovin=function(){this.lovin=!0},e.prototype.stopLovin=function(){this.lovin=!1},e.prototype.update=function(){var t,e,i,n;if(this.cursors&&this.sprite)if(this.singing)this.sprite.setVelocityX(0);else{(null===(t=this.cursors.up)||void 0===t?void 0:t.isDown)?(this.flapping||(this.sprite.anims.isPlaying||this.sprite.anims.play("fly"),this.sprite.setVelocityY(-5*s.BIRD_SIZE)),this.flapping=!0):this.flapping=!1,(null===(e=this.cursors.left)||void 0===e?void 0:e.isDown)?(this.facing=-1,this.sprite.setVelocityX(-2*s.BIRD_SIZE)):(null===(i=this.cursors.right)||void 0===i?void 0:i.isDown)?(this.facing=1,this.sprite.setVelocityX(2*s.BIRD_SIZE)):this.sprite.setVelocityX(0),this.isFlying()&&this.sprite.setVelocityX(4*this.facing*s.BIRD_SIZE),this.sprite.setFlipX(this.facing>0);var r=this.getAnim();(null===(n=this.sprite.anims.currentAnim)||void 0===n?void 0:n.key)!==r&&this.sprite.anims.play(r)}},e.prototype.isFlying=function(){if(!this.sprite)throw new Error("no player");return!!this.sprite.body.velocity.y},e.prototype.getAnim=function(){return this.sprite?this.isFlying()?"fly":this.sprite.body.velocity.x?"walk":"stand":"stand"},e.prototype.getPosition=function(){if(!this.sprite)throw new Error("no player");return this.sprite},e.prototype.die=function(){console.log("player died")},e.prototype.getSprite=function(){if(this.sprite)return this.sprite;throw new Error("Player object has no sprite.")},e}(i(2).EventEmitter);e.Player=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n,r){this.facing=-1,this.scene=t,this.x=e,this.y=i,this.asset=n,this.size=r}return t.prototype.preload=function(){this.scene.load.spritesheet(this.asset+"-ground-predator",this.asset,{frameWidth:this.size,frameHeight:this.size})},t.prototype.create=function(){this.sprite=this.scene.physics.add.sprite(this.x,this.y,this.asset+"-ground-predator"),this.scene.anims.create({key:this.asset+"-stand",frameRate:0,frames:this.scene.anims.generateFrameNumbers(this.asset+"-ground-predator",{start:3,end:3})}),this.sprite.anims.play(this.asset+"-stand"),this.sprite.setDebug(!0,!0,65280)},t.prototype.update=function(){var t=this.scene.getPlayer();this.isClose(t,250)?this.prowl():this.attack(t)},t.prototype.isClose=function(t,e){var i=this.getPosition(),n=t.getPosition();return Phaser.Math.Distance.BetweenPoints(i,n)>e},t.prototype.prowl=function(){var t=Math.random();t>0&&t<=.02?this.facing=this.facing<0?1:-1:t>.05&&t<=.2?this.sprite.setVelocityX(2*this.facing*this.size):this.sprite.setVelocityX(0),this.sprite.setFlipX(this.facing>0)},t.prototype.runLeft=function(){this.sprite.setVelocityX(-240)},t.prototype.runRight=function(){this.sprite.setVelocityX(240)},t.prototype.jump=function(){this.sprite.setVelocityY(-400)},t.prototype.stop=function(){this.sprite.setVelocity(0)},t.prototype.attack=function(t){var e=t.getPosition(),i=this.getPosition();Math.abs(e.x-i.x)<10&&i.y>e.y+100&&this.sprite.body.blocked.down?this.jump():e.x>i.x?this.runRight():e.x<i.x&&this.runLeft()},t.prototype.kill=function(t){t.die()},t.prototype.getPosition=function(){if(!this.sprite)throw new Error("sprite does not exist");return{x:this.sprite.x,y:this.sprite.y}},t.prototype.getSprite=function(){if(!this.sprite)throw new Error("sprite does not exist");return this.sprite},t}();e.GroundPredator=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=s(i(0)),a=function(t){function e(){var e=t.call(this,"about-menu")||this;return e.menuY=150,e}return r(e,t),e.prototype.create=function(){var t=this;this.add.text(100,100,"About",{color:"white",fontSize:"36px"}),this.add.text(100,this.menuY,"\nHere is some text about the game and how\nto play it.\n\nUse the arrow keys to move, and hit up to\nfly. You need to find your mate to keep\nyour bloodline alive\n\nHit ENTER to return to the main menu",{color:"white",fontSize:"16px"});var e=this.input.keyboard.addKey("ENTER");e.on("up",(function(){t.scene.start("main-menu")})),this.events.on("shutdown",(function(){e.removeAllListeners()}))},e}(o.default.Scene);e.AboutMenu=a},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this,"main-menu")||this;return e.selection=0,e.menuY=250,e.menuRowHeight=30,e.menuItems=[{title:"Start Campaign",scene:"game-scene"},{title:"About",scene:"about-menu"}],e}return r(e,t),e.prototype.create=function(){var t,e,i=this,n={color:"white",fontSize:"24px"};this.add.text(100,100,"Bird RPG: Bloodlines",{color:"white",fontSize:"36px"});for(var r=0;r<this.menuItems.length;++r){var s=this.menuItems[r];this.add.text(100,this.menuY+r*this.menuRowHeight,s.title,n)}var o=this.input.keyboard.createCursorKeys(),a=this.add.rectangle(250,this.menuY+this.selection*this.menuRowHeight+15,300,27,16777215,.5),u=function(){a.setY(i.menuY+i.selection*i.menuRowHeight+15)};null===(t=o.up)||void 0===t||t.on("down",(function(){i.selection=Math.max(i.selection-1,0),u()})),null===(e=o.down)||void 0===e||e.on("down",(function(){i.selection=Math.min(i.selection+1,1),u()}));var h=this.input.keyboard.addKey("ENTER");h.on("up",(function(){i.scene.start(i.menuItems[i.selection].scene)})),this.events.on("shutdown",(function(){var t,e,i,n;h.removeAllListeners(),null===(t=o.up)||void 0===t||t.removeAllListeners(),null===(e=o.down)||void 0===e||e.removeAllListeners(),null===(i=o.left)||void 0===i||i.removeAllListeners(),null===(n=o.right)||void 0===n||n.removeAllListeners()}))},e}(s(i(0)).default.Scene);e.MainMenu=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(i(0)),u=i(10),h=i(11),c=function(t){function e(){var e=t.call(this,"mating-scene")||this;return e.egg=new h.Egg(e,320,130),e.sliders=[new u.RouletteSlider(e,320,220,.3,.4),new u.RouletteSlider(e,320,250,.5,.9)],e.components=s(e.sliders,[e.egg]),e}return r(e,t),e.prototype.preload=function(){this.components.forEach((function(t){return t.preload()}))},e.prototype.onFade=function(t,e){1===e&&this.scene.start("game-scene")},e.prototype.create=function(){var t=this;this.components.forEach((function(t){return t.create()}));var e=this.add.text(175,300,"Hit ENTER to select attributes",{color:"white"}),i=this.input.keyboard.addKey("ENTER");i.once("up",(function(){t.sliders.forEach((function(t){return t.stop()})),e.setText(""),t.egg.hatch(),t.egg.once("hatched",(function(){t.cameras.main.fadeOut(2e3,0,0,0,t.onFade.bind(t))}))})),this.events.on("shutdown",(function(){i.removeAllListeners()}))},e.prototype.update=function(){this.components.forEach((function(t){return t.update()}))},e}(a.default.Scene);e.MateScene=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n,r){this.scene=t,this.x=e,this.y=i,this.lowerBound=n,this.upperBound=r,this.width=300,this.height=25,this.speed=200,this.stopped=!1}return t.prototype.preload=function(){},t.prototype.positionToX=function(t){return this.x-this.width/2+this.width*t},t.prototype.addMark=function(t,e){return this.scene.add.rectangle(this.positionToX(t),this.y,6,this.height,e)},t.prototype.getBody=function(){if(!this.selectangle)throw new Error("no selection");return this.selectangle.body},t.prototype.create=function(){this.stopped=!1,this.scene.add.rectangle(this.x,this.y,this.width,this.height,16777215);var t=this.lowerBound+Math.random()*(this.upperBound-this.lowerBound),e=this.addMark(t,65280);this.selectangle=this.scene.physics.add.existing(e,!1),this.getBody().setAllowGravity(!1),this.getBody().setVelocityX(Math.random()<.5?-this.speed:this.speed),this.addMark(this.lowerBound,267666500),this.addMark(this.upperBound,71582975)},t.prototype.update=function(){this.selectangle&&(this.stopped?this.getBody().setVelocityX(0):this.getBody().x<=this.positionToX(this.lowerBound)?this.getBody().setVelocityX(this.speed):this.getBody().x>=this.positionToX(this.upperBound)&&this.getBody().setVelocityX(-this.speed))},t.prototype.getPosition=function(){return{x:this.x,y:this.y}},t.prototype.stop=function(){this.stopped=!0},t}();e.RouletteSlider=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,i,n){var r=t.call(this)||this;return r.scene=e,r.x=i,r.y=n,r}return r(e,t),e.prototype.preload=function(){this.scene.load.spritesheet("hatch","assets/hatch.png",{frameWidth:16,frameHeight:16})},e.prototype.create=function(){this.scene.anims.create({key:"hatch",frameRate:10,frames:this.scene.anims.generateFrameNumbers("hatch",{start:0,end:16})}),this.sprite=this.scene.add.sprite(this.x,this.y,"hatch"),this.sprite.setScale(4,4)},e.prototype.update=function(){},e.prototype.hatch=function(){var t,e,i=this;null===(t=this.sprite)||void 0===t||t.anims.play("hatch"),null===(e=this.sprite)||void 0===e||e.on("animationcomplete",(function(){i.emit("hatched")}))},e.prototype.getPosition=function(){if(!this.sprite)throw new Error("no sprite");return this.sprite},e}(i(2).EventEmitter);e.Egg=s}]);
//# sourceMappingURL=main.js.map